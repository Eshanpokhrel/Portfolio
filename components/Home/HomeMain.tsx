"use client"
// app/page.tsx
import Link from "next/link";
import Title from "../Title";
import Image from "next/image";
import LogoTitle from "@/public/images/E.png";
import { useRef, useEffect } from "react";
import gsap from "gsap";

const cv = { src: "/docs/EshanPokhrelResume.pdf" };

export default function Home() {

  const textRef = useRef<HTMLDivElement>(null);
  const nameRef = useRef<SVGTextElement>(null);

  useEffect(() => {

    gsap.set([textRef.current, nameRef.current], { visibility: "visible" });

    gsap.fromTo(
      textRef.current,
      {
        y: 80,
        opacity: 0,
      },
      {
        y: 0,
        opacity: 1,
        duration: 2,
        ease: "bounce.out",
        delay: 1  ,
      }
    );

    // SVG text letter animation
  if (nameRef.current) {
    const textEl = nameRef.current;
    const text = textEl.textContent || "";

    // Clear original text
    textEl.textContent = "";

    // Create tspans for each letter
    const letters = text.split("").map((char) => {
      const tspan = document.createElementNS(
        "http://www.w3.org/2000/svg",
        "tspan"
      );
      tspan.textContent = char === " " ? "\u00A0" : char;
      tspan.setAttribute("opacity", "0");
      textEl.appendChild(tspan);
      return tspan;
    });

    // Animate letters
    gsap.to(letters, {
      opacity: 1,
      duration: 2,
      stagger: {
        each: 1 / letters.length,
      },
      ease: "power4.inOut",
      delay: 0.3, // start after SVG/path feels right
    });
  }
  }, []);

  return (
    <div className="h-full relative p-6 overflow-hidden z-10">
      <div className="relative grid grid-cols-1 sm:grid-cols-2 sm:gap-12 h-full w-11/12 mx-auto items-start sm:items-center mt-10 sm:mt-0">
        {/* Left Column - Text */}
        <div className="text-left space-y-6 col-span-1 p-10">
          <Title text="Hi," text1="I'm Eshan," text2="Web Developer." />
          <div ref={textRef} className="pt-8 sm:pl-16 space-y-8 invisible">
            <p className=" text-gray-300 font-black text-2xl md:text-3xl">
              Frontend Developer / ReactJs / NextJS / Javascript
            </p>
            <div className="flex flex-col sm:flex-row gap-4 pt-4">
              <Link
                href="/contact"
                className="px-4 py-2 md:px-6 md:py-3 border border-yellow-400 text-yellow-400 text-xl md:text-3xl font-bold rounded hover:bg-yellow-400 hover:text-black transition-all duration-300 text-center whitespace-nowrap"
              >
                CONTACT ME
              </Link>

              <a
                href={cv.src}
                download
                className="px-4 py-2 md:px-6 md:py-3 border border-yellow-400 text-yellow-400 text-xl md:text-3xl font-bold rounded hover:bg-yellow-400 hover:text-black transition-all duration-300 text-center whitespace-nowrap"
              >
                DOWNLOAD CV
              </a>
            </div>
          </div>
        </div>

        {/* Right Column - SVG */}
        <div className="absolute sm:relative inset-0 sm:inset-auto flex justify-center items-center col-span-1 opacity-18 sm:opacity-100 pointer-events-none sm:pointer-events-auto z-0 sm:z-auto">
          <svg
            className="name"
            id="img"
            width="400"
            height="500"
            viewBox="0 0 210 268"
            fill="transparent"
          >
            <mask
              id="path-1-outside-1_13_2"
              maskUnits="userSpaceOnUse"
              x="0.0930176"
              y="0.577988"
              width="200"
              height="264"
              fill=""
            >
              <rect
                fill="white"
                x="0.0930176"
                y="0.577988"
                width="200"
                height="264"
              />
              <path d="M142.389 134.97C134.156 133.982 125.758 133.323 117.195 132.994L114.725 133.982C113.078 133.982 111.267 133.653 109.291 132.994C107.315 132.335 105.504 132.006 103.857 132.006C101.552 132.006 99.0817 132.171 96.447 132.5C93.8124 132.829 91.1777 132.994 88.543 132.994C85.579 132.994 82.4504 132.665 79.157 132.006C76.193 131.347 73.0644 130.195 69.771 128.548C71.747 135.135 73.0644 142.38 73.723 150.284C74.3817 157.859 75.5344 165.104 77.181 172.02C78.8277 178.936 81.4624 184.699 85.085 189.31C89.037 193.921 95.2944 196.226 103.857 196.226C115.054 196.226 122.958 192.274 127.569 184.37C132.18 176.137 134.814 166.751 135.473 156.212C139.754 156.871 144.53 157.365 149.799 157.694C155.068 158.023 160.008 158.188 164.619 158.188C169.559 158.188 173.84 158.188 177.463 158.188C181.415 158.188 184.214 158.188 185.861 158.188C188.825 158.188 190.966 157.529 192.283 156.212C192.283 161.152 192.283 166.586 192.283 172.514C192.612 178.113 192.777 183.711 192.777 189.31C192.777 197.873 192.118 206.271 190.801 214.504C189.813 222.408 187.343 228.665 183.391 233.276C179.768 237.228 175.158 241.015 169.559 244.638C163.96 247.931 157.538 251.06 150.293 254.024C143.048 256.659 135.308 258.635 127.075 259.952C119.171 261.599 111.267 262.422 103.363 262.422C86.2377 262.422 71.253 259.458 58.409 253.53C45.8944 247.602 35.3557 239.533 26.793 229.324C18.5597 219.115 12.3024 207.259 8.02103 193.756C4.06903 179.924 2.09302 165.269 2.09302 149.79V114.716C2.09302 95.6147 4.06903 77.9953 8.02103 61.858C11.973 45.7207 19.0537 32.712 29.263 22.832C31.5684 20.5267 35.191 18.2213 40.131 15.916C45.071 13.2813 50.8344 10.976 57.421 9C64.337 7.02399 71.9117 5.54199 80.145 4.554C88.3784 3.23666 96.941 2.57799 105.833 2.57799C114.396 2.57799 122.794 3.566 131.027 5.54199C139.59 7.18866 147.329 9.65866 154.245 12.952C161.49 15.916 167.583 19.5387 172.523 23.82C177.463 28.1013 180.756 32.712 182.403 37.652C184.05 41.2746 185.038 45.2267 185.367 49.508C186.026 53.7893 187.837 56.7533 190.801 58.4C192.118 65.9747 193.436 74.0433 194.753 82.606C196.4 91.1687 197.223 99.7313 197.223 108.294C197.223 116.857 196.564 123.279 195.247 127.56C191.624 131.183 187.343 133.488 182.403 134.476C177.463 135.464 171.864 135.958 165.607 135.958C158.362 135.958 150.622 135.629 142.389 134.97ZM66.807 121.632C68.4537 121.632 70.1004 120.15 71.747 117.186C73.3937 118.833 75.205 119.656 77.181 119.656C79.157 119.656 81.133 119.491 83.109 119.162C85.4144 118.503 87.8844 118.174 90.519 118.174C95.1297 118.174 99.5757 118.833 103.857 120.15C108.138 121.138 112.584 121.961 117.195 122.62C121.806 123.279 129.216 123.773 139.425 124.102C149.964 124.431 163.302 125.09 179.439 126.078C183.391 126.078 185.861 125.913 186.849 125.584C188.496 120.973 189.484 116.363 189.813 111.752C190.472 106.812 190.801 102.037 190.801 97.426C190.801 58.2353 178.451 32.3827 153.751 19.868C148.811 17.2333 141.566 15.422 132.015 14.434C122.464 13.1167 111.926 12.458 100.399 12.458C91.1777 12.458 80.9684 13.446 69.771 15.422C58.903 17.0687 48.529 21.35 38.649 28.266C29.0984 34.8527 21.0297 44.7326 14.443 57.906C7.85636 70.75 4.56302 88.3693 4.56302 110.764C4.56302 128.877 6.20969 146.003 9.50302 162.14C13.1257 178.277 18.0657 192.603 24.323 205.118C30.5804 217.633 37.8257 227.842 46.059 235.746C54.2924 243.321 63.1843 247.602 72.735 248.59C79.3217 249.249 85.4144 249.743 91.013 250.072C96.941 250.072 102.704 250.072 108.303 250.072C117.854 250.072 125.593 249.907 131.521 249.578C137.778 249.249 143.048 248.425 147.329 247.108C151.61 245.461 155.398 243.321 158.691 240.686C161.984 237.722 165.607 233.77 169.559 228.83C181.086 211.375 186.849 189.145 186.849 162.14C183.556 161.811 180.592 161.646 177.957 161.646C175.322 161.317 172.688 161.152 170.053 161.152H152.269C150.952 161.152 149.634 161.152 148.317 161.152C147.329 161.152 146.012 160.987 144.365 160.658C142.389 165.269 140.248 170.538 137.943 176.466C135.967 182.065 133.497 187.334 130.533 192.274C127.569 197.214 123.946 201.331 119.665 204.624C115.384 207.917 110.114 209.564 103.857 209.564C96.6117 209.564 90.1897 207.753 84.591 204.13C78.9924 200.178 74.217 195.238 70.265 189.31C66.6424 183.382 63.843 176.631 61.867 169.056C59.891 161.481 58.903 153.907 58.903 146.332C58.903 139.087 60.2203 130.689 62.855 121.138C63.5137 121.138 64.1724 121.303 64.831 121.632C65.4897 121.632 66.1484 121.632 66.807 121.632ZM138.437 98.414C138.437 97.7553 138.108 97.0967 137.449 96.438C135.144 97.7553 130.039 98.414 122.135 98.414C114.231 98.414 105.668 97.426 96.447 95.45C87.555 93.1446 80.3097 91.992 74.711 91.992C70.4297 91.992 67.9597 93.8033 67.301 97.426C66.313 96.1087 64.9957 94.956 63.349 93.968C62.0317 92.6507 61.373 90.6747 61.373 88.04C61.373 85.7347 61.5377 83.4293 61.867 81.124C62.5257 78.8187 62.855 76.5133 62.855 74.208C62.855 71.244 62.6904 69.5973 62.361 69.268C64.337 67.292 66.1483 64.9867 67.795 62.352L73.229 54.448C75.205 51.8133 77.3457 49.6726 79.651 48.026C81.9564 46.05 84.9204 45.062 88.543 45.062C91.8364 45.062 94.471 45.8853 96.447 47.532C98.423 48.8493 101.058 49.508 104.351 49.508C105.668 49.508 106.821 49.508 107.809 49.508C109.126 49.1787 110.444 49.014 111.761 49.014C114.725 49.014 117.36 50.002 119.665 51.978C121.97 53.6247 124.44 54.448 127.075 54.448C128.392 54.448 129.216 54.2833 129.545 53.954C133.168 58.2353 136.79 63.0107 140.413 68.28C144.365 73.22 146.341 78.9833 146.341 85.57C146.341 87.2167 145.518 89.8513 143.871 93.474C142.224 97.0967 141.072 98.908 140.413 98.908C139.425 98.908 138.766 98.7433 138.437 98.414ZM72.735 79.148C73.723 81.124 74.217 83.4293 74.217 86.064C74.8757 85.7347 78.4984 85.57 85.085 85.57C92.001 85.57 98.0937 85.57 103.363 85.57C108.962 85.57 113.078 85.7347 115.713 86.064C116.042 85.7347 116.207 85.4053 116.207 85.076C115.878 85.076 115.713 84.9113 115.713 84.582V83.594C119.994 84.582 122.3 85.2406 122.629 85.57C122.629 84.2527 123.782 83.594 126.087 83.594C127.404 83.594 128.886 83.7587 130.533 84.088C132.509 84.088 134.32 84.088 135.967 84.088C135.967 75.5253 134.32 68.6093 131.027 63.34C127.734 58.0707 120.982 55.436 110.773 55.436C106.162 55.436 101.552 55.93 96.941 56.918C92.3304 57.5767 88.049 58.7293 84.097 60.376C80.4744 61.6933 77.3457 63.5047 74.711 65.81C72.4057 67.786 71.253 70.0913 71.253 72.726C71.253 74.702 71.747 76.8426 72.735 79.148Z" />
            </mask>
            <path
              d="M142.389 134.97C134.156 133.982 125.758 133.323 117.195 132.994L114.725 133.982C113.078 133.982 111.267 133.653 109.291 132.994C107.315 132.335 105.504 132.006 103.857 132.006C101.552 132.006 99.0817 132.171 96.447 132.5C93.8124 132.829 91.1777 132.994 88.543 132.994C85.579 132.994 82.4504 132.665 79.157 132.006C76.193 131.347 73.0644 130.195 69.771 128.548C71.747 135.135 73.0644 142.38 73.723 150.284C74.3817 157.859 75.5344 165.104 77.181 172.02C78.8277 178.936 81.4624 184.699 85.085 189.31C89.037 193.921 95.2944 196.226 103.857 196.226C115.054 196.226 122.958 192.274 127.569 184.37C132.18 176.137 134.814 166.751 135.473 156.212C139.754 156.871 144.53 157.365 149.799 157.694C155.068 158.023 160.008 158.188 164.619 158.188C169.559 158.188 173.84 158.188 177.463 158.188C181.415 158.188 184.214 158.188 185.861 158.188C188.825 158.188 190.966 157.529 192.283 156.212C192.283 161.152 192.283 166.586 192.283 172.514C192.612 178.113 192.777 183.711 192.777 189.31C192.777 197.873 192.118 206.271 190.801 214.504C189.813 222.408 187.343 228.665 183.391 233.276C179.768 237.228 175.158 241.015 169.559 244.638C163.96 247.931 157.538 251.06 150.293 254.024C143.048 256.659 135.308 258.635 127.075 259.952C119.171 261.599 111.267 262.422 103.363 262.422C86.2377 262.422 71.253 259.458 58.409 253.53C45.8944 247.602 35.3557 239.533 26.793 229.324C18.5597 219.115 12.3024 207.259 8.02103 193.756C4.06903 179.924 2.09302 165.269 2.09302 149.79V114.716C2.09302 95.6147 4.06903 77.9953 8.02103 61.858C11.973 45.7207 19.0537 32.712 29.263 22.832C31.5684 20.5267 35.191 18.2213 40.131 15.916C45.071 13.2813 50.8344 10.976 57.421 9C64.337 7.02399 71.9117 5.54199 80.145 4.554C88.3784 3.23666 96.941 2.57799 105.833 2.57799C114.396 2.57799 122.794 3.566 131.027 5.54199C139.59 7.18866 147.329 9.65866 154.245 12.952C161.49 15.916 167.583 19.5387 172.523 23.82C177.463 28.1013 180.756 32.712 182.403 37.652C184.05 41.2746 185.038 45.2267 185.367 49.508C186.026 53.7893 187.837 56.7533 190.801 58.4C192.118 65.9747 193.436 74.0433 194.753 82.606C196.4 91.1687 197.223 99.7313 197.223 108.294C197.223 116.857 196.564 123.279 195.247 127.56C191.624 131.183 187.343 133.488 182.403 134.476C177.463 135.464 171.864 135.958 165.607 135.958C158.362 135.958 150.622 135.629 142.389 134.97ZM66.807 121.632C68.4537 121.632 70.1004 120.15 71.747 117.186C73.3937 118.833 75.205 119.656 77.181 119.656C79.157 119.656 81.133 119.491 83.109 119.162C85.4144 118.503 87.8844 118.174 90.519 118.174C95.1297 118.174 99.5757 118.833 103.857 120.15C108.138 121.138 112.584 121.961 117.195 122.62C121.806 123.279 129.216 123.773 139.425 124.102C149.964 124.431 163.302 125.09 179.439 126.078C183.391 126.078 185.861 125.913 186.849 125.584C188.496 120.973 189.484 116.363 189.813 111.752C190.472 106.812 190.801 102.037 190.801 97.426C190.801 58.2353 178.451 32.3827 153.751 19.868C148.811 17.2333 141.566 15.422 132.015 14.434C122.464 13.1167 111.926 12.458 100.399 12.458C91.1777 12.458 80.9684 13.446 69.771 15.422C58.903 17.0687 48.529 21.35 38.649 28.266C29.0984 34.8527 21.0297 44.7326 14.443 57.906C7.85636 70.75 4.56302 88.3693 4.56302 110.764C4.56302 128.877 6.20969 146.003 9.50302 162.14C13.1257 178.277 18.0657 192.603 24.323 205.118C30.5804 217.633 37.8257 227.842 46.059 235.746C54.2924 243.321 63.1843 247.602 72.735 248.59C79.3217 249.249 85.4144 249.743 91.013 250.072C96.941 250.072 102.704 250.072 108.303 250.072C117.854 250.072 125.593 249.907 131.521 249.578C137.778 249.249 143.048 248.425 147.329 247.108C151.61 245.461 155.398 243.321 158.691 240.686C161.984 237.722 165.607 233.77 169.559 228.83C181.086 211.375 186.849 189.145 186.849 162.14C183.556 161.811 180.592 161.646 177.957 161.646C175.322 161.317 172.688 161.152 170.053 161.152H152.269C150.952 161.152 149.634 161.152 148.317 161.152C147.329 161.152 146.012 160.987 144.365 160.658C142.389 165.269 140.248 170.538 137.943 176.466C135.967 182.065 133.497 187.334 130.533 192.274C127.569 197.214 123.946 201.331 119.665 204.624C115.384 207.917 110.114 209.564 103.857 209.564C96.6117 209.564 90.1897 207.753 84.591 204.13C78.9924 200.178 74.217 195.238 70.265 189.31C66.6424 183.382 63.843 176.631 61.867 169.056C59.891 161.481 58.903 153.907 58.903 146.332C58.903 139.087 60.2203 130.689 62.855 121.138C63.5137 121.138 64.1724 121.303 64.831 121.632C65.4897 121.632 66.1484 121.632 66.807 121.632ZM138.437 98.414C138.437 97.7553 138.108 97.0967 137.449 96.438C135.144 97.7553 130.039 98.414 122.135 98.414C114.231 98.414 105.668 97.426 96.447 95.45C87.555 93.1446 80.3097 91.992 74.711 91.992C70.4297 91.992 67.9597 93.8033 67.301 97.426C66.313 96.1087 64.9957 94.956 63.349 93.968C62.0317 92.6507 61.373 90.6747 61.373 88.04C61.373 85.7347 61.5377 83.4293 61.867 81.124C62.5257 78.8187 62.855 76.5133 62.855 74.208C62.855 71.244 62.6904 69.5973 62.361 69.268C64.337 67.292 66.1483 64.9867 67.795 62.352L73.229 54.448C75.205 51.8133 77.3457 49.6726 79.651 48.026C81.9564 46.05 84.9204 45.062 88.543 45.062C91.8364 45.062 94.471 45.8853 96.447 47.532C98.423 48.8493 101.058 49.508 104.351 49.508C105.668 49.508 106.821 49.508 107.809 49.508C109.126 49.1787 110.444 49.014 111.761 49.014C114.725 49.014 117.36 50.002 119.665 51.978C121.97 53.6247 124.44 54.448 127.075 54.448C128.392 54.448 129.216 54.2833 129.545 53.954C133.168 58.2353 136.79 63.0107 140.413 68.28C144.365 73.22 146.341 78.9833 146.341 85.57C146.341 87.2167 145.518 89.8513 143.871 93.474C142.224 97.0967 141.072 98.908 140.413 98.908C139.425 98.908 138.766 98.7433 138.437 98.414ZM72.735 79.148C73.723 81.124 74.217 83.4293 74.217 86.064C74.8757 85.7347 78.4984 85.57 85.085 85.57C92.001 85.57 98.0937 85.57 103.363 85.57C108.962 85.57 113.078 85.7347 115.713 86.064C116.042 85.7347 116.207 85.4053 116.207 85.076C115.878 85.076 115.713 84.9113 115.713 84.582V83.594C119.994 84.582 122.3 85.2406 122.629 85.57C122.629 84.2527 123.782 83.594 126.087 83.594C127.404 83.594 128.886 83.7587 130.533 84.088C132.509 84.088 134.32 84.088 135.967 84.088C135.967 75.5253 134.32 68.6093 131.027 63.34C127.734 58.0707 120.982 55.436 110.773 55.436C106.162 55.436 101.552 55.93 96.941 56.918C92.3304 57.5767 88.049 58.7293 84.097 60.376C80.4744 61.6933 77.3457 63.5047 74.711 65.81C72.4057 67.786 71.253 70.0913 71.253 72.726C71.253 74.702 71.747 76.8426 72.735 79.148Z"
              stroke="#FFF"
              strokeWidth="4"
              mask="url(#path-1-outside-1_13_2)"
            />
            <text
              ref={nameRef}
              x="64"
              y="232"
              fill="#fff"
              fontSize="15"
              letterSpacing="1"
              className="font-la-belle invisible"
            >
              shan pokhrel
            </text>
          </svg>
        </div>
      </div>
    </div>
  );
}
